<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="https://i.imgur.com/e4oXN9E.png" type="image/png">
  <title>Ticking Orb</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    body {
      margin: 0;
      font-family: 'Press Start 2P', cursive;
      background: linear-gradient(135deg, #0f0f0f, #1a1a1a);
      color: #00ffcc;
      overflow: hidden;
    }
    #gameCanvas {
      display: block;
      margin: 40px auto;
      background: repeating-linear-gradient(45deg, #000, #000 5px, #111 5px, #111 10px);
      border: 4px solid #00ffcc;
      box-shadow: 0 0 20px #00ffcc;
      width: 90vw;
      height: 90vw;
      max-width: 400px;
      max-height: 400px;
    }
    #ui {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: #000;
      padding: 10px 30px;
      border: 2px solid #00ffcc;
      border-radius: 10px;
      font-size: 0.7rem;
    }
    #startBtn {
      position: absolute;
      top: 70px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 20px;
      font-size: 0.8rem;
      background: #ff0066;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: 0 0 10px #ff0066;
    }
    #popup {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #000;
      color: #ff0066;
      border: 2px solid #ff0066;
      padding: 30px;
      font-size: 1rem;
      border-radius: 10px;
      box-shadow: 0 0 20px #ff0066;
      display: none;
      text-align: center;
      z-index: 999;
    }
  </style>
</head>
<body>
  <div id="ui">
    üèÜ Score: <span id="score">0</span> ‚è± Time: <span id="time">10.0</span>s
    <div id="powerMsg" style="color:#ff0; margin-top:5px;"></div>
  </div>
  <button id="startBtn" onclick="startGame()">üïπÔ∏è START</button>
  <canvas id="gameCanvas" width="400" height="400"></canvas>
  <div id="popup"></div>
  <script>
    const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
let x = 200, y = 200, vx = 2, vy = 2;
let score = 0, timer = 10.0;
let active = false;
let keys = {};
const orbSize = 20;
const popup = document.getElementById("popup");

function startGame() {
  score = 0;
  timer = 10.0;
  active = true;
  popup.style.display = "none";
  document.getElementById("score").textContent = score;
  document.getElementById("powerMsg").textContent = "";
  loop();
}

function loop() {
  if (!active) return;

  // Timer
  timer -= 0.016;
  document.getElementById("time").textContent = timer.toFixed(1);
  if (timer <= 0) return endGame();

  update();
  draw();
  requestAnimationFrame(loop);
}

function update() {
  // Move orb
  x += vx;
  y += vy;

  // Bounce
  if (x < 0 || x + orbSize > canvas.width) vx *= -1;
  if (y < 0 || y + orbSize > canvas.height) vy *= -1;

  // Player input
  if (keys["arrowleft"]) x -= 3;
  if (keys["arrowright"]) x += 3;
  if (keys["arrowup"]) y -= 3;
  if (keys["arrowdown"]) y += 3;
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Orb
  ctx.beginPath();
  ctx.arc(x + orbSize / 2, y + orbSize / 2, orbSize, 0, Math.PI * 2);
  ctx.fillStyle = "#ff0066";
  ctx.fill();
}

function endGame() {
  active = false;
  popup.innerHTML = `üí• Time's Up!<br>Final Score: ${score}`;
  popup.style.display = "block";
}

// Touch support
canvas.addEventListener("touchmove", e => {
  const touch = e.touches[0];
  const rect = canvas.getBoundingClientRect();
  x = Math.max(0, Math.min(canvas.width - orbSize, touch.clientX - rect.left - orbSize / 2));
  y = Math.max(0, Math.min(canvas.height - orbSize, touch.clientY - rect.top - orbSize / 2));
});

// Keyboard support
document.addEventListener("keydown", e => keys[e.key.toLowerCase()] = true);
document.addEventListener("keyup", e => keys[e.key.toLowerCase()] = false);
  </script>
</body>
</html>
